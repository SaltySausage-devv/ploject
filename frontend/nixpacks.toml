[phases.setup]
nixPkgs = ["nodejs"]

[phases.build]
cmds = [
  "npm install",
  "npm run build"
]

[start]
cmd = "npx serve dist -s -p $PORT"

[variables]
# These will be available during build
VITE_AUTH_SERVICE_URL = "$VITE_AUTH_SERVICE_URL"
VITE_USERS_SERVICE_URL = "$VITE_USERS_SERVICE_URL"
VITE_PROFILES_SERVICE_URL = "$VITE_PROFILES_SERVICE_URL"
VITE_BOOKINGS_SERVICE_URL = "$VITE_BOOKINGS_SERVICE_URL"
VITE_MESSAGING_SERVICE_URL = "$VITE_MESSAGING_SERVICE_URL"
VITE_REVIEWS_SERVICE_URL = "$VITE_REVIEWS_SERVICE_URL"
VITE_NOTIFICATIONS_SERVICE_URL = "$VITE_NOTIFICATIONS_SERVICE_URL"
VITE_ANALYTICS_SERVICE_URL = "$VITE_ANALYTICS_SERVICE_URL"
VITE_CALENDAR_SERVICE_URL = "$VITE_CALENDAR_SERVICE_URL"
VITE_MAPS_SERVICE_URL = "$VITE_MAPS_SERVICE_URL"
VITE_SUPABASE_URL = "$VITE_SUPABASE_URL"
VITE_SUPABASE_ANON_KEY = "$VITE_SUPABASE_ANON_KEY"
